<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Multiple Choice Game</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background-color: #E2E2E2;
      color: #000000;
      overflow: auto;
    }

    .game-wrapper {
      width: 90vmin;
      height: 90vmin;
      max-width: 100%;
      max-height: 100%;
    }

    .game-container {
      width: 100%;
      height: 100%;
      box-sizing: border-box;
      background-color: #FFFFFF;
      padding: 2.5vmin;
      border-radius: 4vmin;
      box-shadow: 0 0 3vmin rgba(0, 0, 0, 0.1);
      text-align: center;
      max-width: 90%;
      position: relative;
      overflow: auto;
      display: flex;
      flex-direction: column;
    }

    .progress-bar {
      display: flex;
      justify-content: space-between;
      gap: 0.5vmin;
      width: 100%;
      height: 1.5vmin;
      margin-bottom: 3vmin;
      background-color: transparent;
      flex-shrink: 0;
    }

    .progress-segment {
      flex: 1;
      background-color: #ddd;
      transition: background-color 0.3s ease;
      height: 100%;
    }

    .progress-segment:first-child {
      border-top-left-radius: 0.8vmin;
      border-bottom-left-radius: 0.8vmin;
    }

    .progress-segment:last-child {
      border-top-right-radius: 0.8vmin;
      border-bottom-right-radius: 0.8vmin;
    }

    .progress-segment.filled {
      background: linear-gradient(to right, #FCD307, #FFBC00);
    }

    .progress-segment.flashing {
      animation: flash 1s infinite;
    }

    @keyframes flash {
      0%, 100% {
        background-color: #ddd;
      }
      50% {
        background-color: rgba(252, 211, 7, 0.7);
      }
    }

    .title-container {
      text-align: center;
      margin-bottom: 3vmin;
      flex-shrink: 0;
    }

    .title-container h1 {
      color: #000000;
      font-size: 4.5vmin;
      margin-bottom: 1vmin;
    }

    .title-container h2 {
      color: #555555;
      font-size: 3vmin;
    }

    .image-container {
      display: flex;
      justify-content: center;
      margin-bottom: 3vmin;
      flex-shrink: 0;
    }

    .image-container img {
      max-width: 100%;
      max-height: 25vmin;
      height: auto;
      border-radius: 3vmin;
      object-fit: contain;
    }

    .options-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      flex-grow: 1;
      overflow-y: auto;
      margin-bottom: 1.5vmin;
      padding-top: 1vmin;
    }

    .option-button {
      background-color: #FCD307;
      border: none;
      border-radius: 10vmin;
      padding: 1.5vmin;
      margin: 1vmin 0;
      cursor: pointer;
      transition: background-color 0.3s, transform 0.2s;
      width: 80%;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      font-size: 2.8vmin;
      box-sizing: border-box;
      user-select: none;
    }

    .option-button:hover {
      background-color: #FFBC00;
      transform: scale(1.02);
    }

    .option-button.selected {
      background-color: #FFBC00;
    }

    .option-circle {
      width: 1.5vmin;
      height: 1.5vmin;
      border-radius: 50%;
      background-color: #FFFFFF;
      border: 0.7vmin solid #000000;
      margin-right: 1.5vmin;
      flex-shrink: 0;
    }

    .option-button.selected .option-circle {
      background-color: #3a3a3a;
      border: 0.7vmin solid #000000;
    }

    button {
      background-color: #FCD307;
      color: #000000;
      border: none;
      border-radius: 1.5vmin;
      cursor: pointer;
      font-weight: bold;
      padding: 1.5vmin 3vmin;
      margin-top: 1.5vmin;
      transition: background-color 0.3s;
      font-size: 3.5vmin;
      user-select: none;
    }

    button:hover {
      background-color: #FFBC00;
    }

    #feedback {
      font-weight: bold;
      margin-top: 3vmin;
      font-size: 2vmin;
      padding: 1vmin;
      border-radius: 1.5vmin;
      min-height: 4em;
      box-sizing: border-box;
    }

    .correct-feedback {
      color: #2E7D32;
      background-color: rgba(46, 125, 50, 0.1);
    }

    .incorrect-feedback {
      color: #C62828;
      background-color: rgba(198, 40, 40, 0.1);
      font-size: 1.8vmin;
      top: 190%;
      padding: 1vmin;
      border-radius: 1vmin;
      line-height: 1.3;
    }

    .pill {
      display: inline-block;
      padding: 1.5vmin 3vmin;
      border-radius: 5vmin;
      font-weight: bold;
      margin: 1vmin;
      font-size: 3vmin;
    }

    .correct-pill {
      background-color: rgba(46, 125, 50, 0.1);
      color: #2E7D32;
      font-size: 15px;
    }

    .try-again-pill {
      background-color: #FFCDD2;
      color: #C62828;
      border: none;
      border-radius: 5vmin;
      cursor: pointer;
      font-weight: bold;
      padding: 1.5vmin 3vmin;
      margin-top: 1.5vmin;
      transition: background-color 0.3s;
      font-size: 2.6vmin;
    }

    .try-again-pill:hover {
      background-color: #FF1744;
      color: white;
    }

    .continue-pill {
      background-color: #FFD54F;
      color: #000000;
      border: none;
      border-radius: 5vmin;
      cursor: pointer;
      font-weight: bold;
      padding: 1.5vmin 3vmin;
      margin-top: 1.5vmin;
      transition: background-color 0.3s;
      font-size: 2.6vmin;
    }

    #submitButton {
      font-size: 2.6vmin;
      padding: 2vmin 4vmin;
      width: 45%;
      height: auto;
      border-radius: 5vmin;
      max-width: 300px;
    }

    .button-container {
      display: flex;
      justify-content: center;
      gap: 1.5vmin;
      margin-top: -2vmin;
      flex-shrink: 0;
    }

    @media (min-width: 768px) {
      .game-container {
        max-width: 600px;
        padding: 3vmin;
      }
    }

    .options-container::-webkit-scrollbar {
      width: 0.5vmin;
    }

    .options-container::-webkit-scrollbar-thumb {
      background-color: rgba(0, 0, 0, 0.1);
      border-radius: 1vmin;
    }
  </style>
</head>
<body>
  <div class="game-wrapper">
    <div class="game-container">
      <div class="progress-bar">
        <div class="progress-segment" id="segment1"></div>
        <div class="progress-segment" id="segment2"></div>
        <div class="progress-segment" id="segment3"></div>
        <div class="progress-segment" id="segment4"></div>
        <div class="progress-segment" id="segment5"></div>
        <div class="progress-segment" id="segment6"></div>
        <div class="progress-segment" id="segment7"></div>
      </div>
      <div id="questionContainer" class="question-container">
        <div class="title-container">
          <h1 id="gameTitle" style="font-size: 20px;">What is WeSpark?</h1>
          <h2 id="gameSubtitle">Please select one option:</h2>
        </div>
        <div class="image-container">
          <img
            id="questionImage"
            src="https://static.wixstatic.com/media/9c422e_cdf4917767c945ba80831a19747d1693~mv2.png"
            alt="Question image"
          />
        </div>
        <div class="options-container" id="optionsForm">
          <!-- Options will be loaded here dynamically -->
        </div>
        <div class="button-container">
          <button type="button" id="submitButton" onclick="checkAnswers()">Submit Answer</button>
        </div>
        <div id="feedback"></div>
      </div>
    </div>
  </div>
  <canvas
    id="confetti-canvas"
    style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100vmin; height: 100vmin; pointer-events: none; z-index: 100;"
  ></canvas>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <script>
    let questions = [
      {
        questionText: 'What is the capital of France?',
        questionImage:
          'https://static.wixstatic.com/media/9c422e_cdf4917767c945ba80831a19747d1693~mv2.png',
        options: [
          {
            text: 'Website Design Agency',
            correct: false,
            errorMessage:
              '❌ Some projects require WeSpark to aid in the design of websites, user experience, or sales funnels, but WeSpark is not a website design agency.',
          },
          {
            text: 'Innovation Agency',
            correct: true,
            errorMessage:
              '✅ WeSpark is an Innovation Agency that helps companies grow through designing new AI-powered Products & Services, running world-class corporate Training, and creating gamified Learning Experiences.',
          },
          {
            text: 'Public Relations Agency',
            correct: false,
            errorMessage:
              '❌ Some public projects need PR support, and WeSpark has a partner to work on PR topics, but WeSpark is not a PR agency.',
          },
        ],
      },
    ];
    let currentQuestionIndex = 0;
    let selectedOption = null;
    let confettiInterval;
    let correctAnswersCount = 1;
    function updateProgressBar() {
      for (let i = 1; i <= 7; i++) {
        const segment = document.getElementById(`segment${i}`);
        segment.classList.remove('flashing');
        if (i < correctAnswersCount) {
          segment.classList.add('filled');
        } else if (i === correctAnswersCount) {
          segment.classList.add('flashing');
        } else {
          segment.classList.remove('filled');
        }
      }
    }
    function loadQuestion(index) {
      const question = questions[index];
      const questionContainer = document.getElementById('questionContainer');
      if (question) {
        document.getElementById('feedback').textContent = '';
        document.getElementById('feedback').className = '';
        selectedOption = null;
        if (question.questionImage) {
          document.getElementById('questionImage').src = question.questionImage;
          document.getElementById('questionImage').style.display = 'block';
        } else {
          document.getElementById('questionImage').style.display = 'none';
        }
        const optionsContainer = document.getElementById('optionsForm');
        optionsContainer.innerHTML = '';
        question.options.forEach((option, i) => {
          const button = document.createElement('button');
          button.className = 'option-button';
          button.innerHTML = `
                        <div class="option-circle"></div>
                        <span>${option.text}</span>
                    `;
          button.onclick = function () {
            selectedOption = option;
            document.querySelectorAll('.option-button').forEach((btn) => btn.classList.remove('selected'));
            button.classList.add('selected');
          };
          optionsContainer.appendChild(button);
        });
        questionContainer.classList.add('enter');
        setTimeout(() => {
          questionContainer.classList.remove('enter');
          questionContainer.classList.add('center');
        }, 10);
      }
    }
    function checkAnswers() {
      const questionContainer = document.getElementById('questionContainer');
      const feedbackElement = document.getElementById('feedback');
      const buttonContainer = document.querySelector('.button-container');
      const submitButton = document.getElementById('submitButton');
      if (selectedOption) {
        if (selectedOption.correct) {
          correctAnswersCount++;
          updateProgressBar();
          const correctMessage = document.createElement('div');
          correctMessage.className = 'pill correct-pill';
          correctMessage.textContent = 'Correct!';
          feedbackElement.innerHTML = '';
          feedbackElement.appendChild(correctMessage);
          startConfetti();
          setTimeout(() => {
            correctMessage.style.opacity = '0';
            setTimeout(() => {
              submitButton.style.display = 'none';
              const continueButton = document.createElement('button');
              continueButton.className = 'continue-pill';
              continueButton.textContent = 'Continue?';
              continueButton.onclick = function () {
                currentQuestionIndex++;
                if (currentQuestionIndex < questions.length) {
                  loadQuestion(currentQuestionIndex);
                } else {
                  redirectToWorkPage();
                }
              };
              buttonContainer.appendChild(continueButton);
              let timeLeft = 10;
              const timer = setInterval(() => {
                timeLeft--;
                continueButton.textContent = `Continue? (${timeLeft}s)`;
                if (timeLeft <= 0) {
                  clearInterval(timer);
                  currentQuestionIndex++;
                  if (currentQuestionIndex < questions.length) {
                    loadQuestion(currentQuestionIndex);
                  } else {
                    redirectToWorkPage();
                  }
                }
              }, 1000);
            }, 500);
          }, 2000);
        } else {
          feedbackElement.innerHTML = `
                        <div class="incorrect-feedback">${selectedOption.errorMessage}</div>
                    `;
          const tryAgainButton = document.createElement('button');
          tryAgainButton.className = 'try-again-pill';
          tryAgainButton.textContent = 'Try Again!';
          tryAgainButton.onclick = function () {
            resetSelection();
            buttonContainer.removeChild(tryAgainButton);
          };
          buttonContainer.appendChild(tryAgainButton);
          questionContainer.classList.add('incorrect-animation');
          setTimeout(() => {
            questionContainer.classList.remove('incorrect-animation');
          }, 500);
        }
      } else {
        feedbackElement.textContent = 'Please select an option.';
        feedbackElement.className = 'incorrect-feedback';
      }
    }
    function resetSelection() {
      document.getElementById('feedback').textContent = '';
      document.querySelectorAll('.option-button').forEach((btn) => btn.classList.remove('selected'));
      selectedOption = null;
    }
    function redirectToWorkPage() {
      window.location.href = 'https://levi5171.wixstudio.com/my-site-1/blank-1';
    }
    function startConfetti() {
      const canvas = document.getElementById('confetti-canvas');
      const myConfetti = confetti.create(canvas, { resize: true, useWorker: true });
      if (confettiInterval) {
        clearInterval(confettiInterval);
      }
      let count = 0;
      const maxCount = 3;
      confettiInterval = setInterval(() => {
        myConfetti({
          particleCount: 100,
          spread: 70,
          origin: { y: 0.6 },
        });
        count++;
        if (count >= maxCount) {
          clearInterval(confettiInterval);
        }
      }, 1000);
    }
    document.addEventListener('DOMContentLoaded', function () {
      loadQuestion(currentQuestionIndex);
      updateProgressBar();
    });
  </script>
</body>
</html>
